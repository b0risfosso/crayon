<!doctype html>
<html>
<head>
  <meta charset="utf-8"><title>Prompt</title>
  <style>body{font-family:sans-serif;max-width:800px;margin:40px auto}</style>
</head>
<body>
  <nav><a href="prompt.html">Prompt</a> | <a href="history.html">History</a></nav>
  <h2>System message</h2>
  <textarea id="sys" rows="4" style="width:100%">You are concise.</textarea>
  <h2>User message</h2>
  <textarea id="usr" rows="4" style="width:100%"></textarea><br>
  <button id="send">Ask</button>
  <h2>Answer</h2>
  <pre id="out">(waiting…)</pre>

<script>
document.getElementById('send').onclick = async () => {
  const btn=document.getElementById('send'); btn.disabled=true;
  const out=document.getElementById('out'); out.textContent='Thinking…';
  const body = {
    system: document.getElementById('sys').value,
    user  : document.getElementById('usr').value
  };
  const r = await fetch('/api/ask',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(body)});
  out.textContent = (await r.json()).answer ?? '(no answer)';
  btn.disabled=false;
};
</script>
</body>
</html>
