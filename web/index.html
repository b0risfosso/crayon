<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Fantasiagenesis — Narratives</title>
  <style>
  :root {
    --bg: #f9fafb;
    --card: #fff;
    --text: #111827;
    --muted: #6b7280;
    --line: #e5e7eb;
  }
  body {
    font-family: system-ui, -apple-system, sans-serif;
    background: var(--bg);
    color: var(--text);
    margin: 0;
  }
  header {
    position: sticky;
    top: 0;
    background: var(--card);
    border-bottom: 1px solid var(--line);
    padding: 0.75rem 1rem;
  }
  h1 { font-size: 1.25rem; font-weight: 700; margin: 0; }
  main { max-width: 64rem; margin: 0 auto; padding: 1rem; }
  .grid {
    display: grid;
    grid-template-columns: 1fr;
    gap: 1rem;
  }
  @media (min-width: 640px) {
    .grid { grid-template-columns: 1fr 1fr; }
  }
  .card {
    background: var(--card);
    border: 1px solid var(--line);
    border-radius: 12px;
    padding: 1rem 1.25rem;
    transition: transform .08s ease, box-shadow .08s ease;
  }
  .card:hover { transform: translateY(-2px); box-shadow: 0 4px 14px rgba(0,0,0,.06); }
  .title { font-size: 1rem; font-weight: 600; margin-bottom: 0.5rem; }
  .desc { color: var(--muted); font-size: 0.9rem; margin-bottom: 0.75rem; }
  small { display: block; color: var(--muted); font-size: 0.8rem; }
  </style>
</head>
<body>
  <header style="display:flex;justify-content:space-between;align-items:center;">
    <h1>fantasiagenesis</h1>
    <span style="color:#6b7280;font-size:0.95rem;">creating and executing narratives</span>
  </header>

  <main>
    <section id="grid" class="grid"></section>
    <footer>© <span id="year"></span> fantasiagenesis.</footer>
  </main>

  <script>
    const api = {
      list: () => fetch('/api/narratives').then(r=>r.json())
    };

    async function render(){
      const data = await api.list();
      const grid = document.getElementById('grid');
      grid.innerHTML = '';
      data.forEach(n=>{
        const card = document.createElement('div');
        card.className = 'card';
        card.innerHTML = `
          <h2 class="title">${n.id}. ${n.title}</h2>
          <p class="desc">${n.description || ''}</p>
        `;
        grid.appendChild(card);
      });
    }

    document.getElementById('year').textContent = new Date().getFullYear();
    render();
  </script>
</body>
</html>
